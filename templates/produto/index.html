{% extends "_base.html" %}
{% load static %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">

    <h3>Lista de Produtos</h3>
    <a href="{% url 'produto_create' %}" style="color: #0552ac"> Novo + </a>
</div>
    
<div class="table-responsive">
    <table class="table "> 
        <thead class="table" style="background-color: #B7D5E5"> 
       <tr>
        <th> Nome </th>
        <th> Descrição </th>
        <th> Preco de Venda </th>
        {% comment %} <th> Unidade </th> {% endcomment %}
        <th> Estoque </th>
        <th> Categoria </th>
        <th> Estabelecimento </th>
        <th> Opções </th>
        </tr>
    </thead>
    <tbody>
        {% for produto in produtos %}
            <tr>
            <td>{{ produto.nome }} </td>
            <td>{{ produto.descrição }}</td>
            <td>R$ {{ produto.preco }}</td>
            <td>
                {% if produto.esgotado %}
                    <span class="badge bg-danger">Esgotado</span>
                {% else %}
                    {{ produto.estoque }}
                {% endif %}
            </td>
            <td>{{ produto.categoria }}</td>
            <td>{{ produto.estabelecimento }}</td>
            
            <td>
                <a href="{% url 'produto_detail' produto.id %}" class="btn btn-primary btn-sm">Detalhar</a>
                <a href="{% url 'produto_edit' produto.id %}" class="btn btn-secondary btn-sm">Editar</a>
                <a href="{% url 'produto_delete' produto.id %}" class="btn btn-danger btn-sm">Excluir</a>
            </td>
            </tr>
        {% endfor %} 
        </tbody>   
        </table>
    </div>
{% endblock %}
